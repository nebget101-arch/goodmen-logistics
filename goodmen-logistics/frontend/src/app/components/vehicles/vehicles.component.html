<div class="container">
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">ðŸš› Vehicle Fleet Management</h2>
      <button class="btn btn-primary">+ Add Vehicle</button>
    </div>

    <div *ngIf="loading" class="loading">
      <div class="spinner"></div>
    </div>

    <table class="table" *ngIf="!loading">
      <thead>
        <tr>
          <th>Unit #</th>
          <th>Vehicle Details</th>
          <th>VIN</th>
          <th>Mileage</th>
          <th>Last Inspection</th>
          <th>Next PM Due</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let vehicle of vehicles">
          <td><strong>{{ vehicle.unitNumber }}</strong></td>
          <td>
            {{ vehicle.year }} {{ vehicle.make }} {{ vehicle.model }}<br>
            <small style="color: var(--text-light);">{{ vehicle.licensePlate }}</small>
          </td>
          <td><small>{{ vehicle.vin }}</small></td>
          <td>{{ vehicle.mileage?.toLocaleString() }} mi</td>
          <td>{{ vehicle.lastInspectionDate }}</td>
          <td>
            {{ vehicle.nextPMDue }}<br>
            <small>&#64; {{ vehicle.nextPMMileage?.toLocaleString() }} mi</small>
          </td>
          <td>
            <span [class]="'badge ' + getStatusBadge(vehicle.status)">
              {{ vehicle.status }}
            </span>
            <div *ngIf="vehicle.oosReason" style="font-size: 11px; color: var(--danger-color); margin-top: 4px;">
              {{ vehicle.oosReason }}
            </div>
          </td>
          <td>
            <button class="btn btn-primary" style="font-size: 12px; padding: 6px 12px;">View</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="card">
    <div class="card-header">
      <h3 class="card-title">ðŸ“‹ Maintenance Retention Requirements</h3>
    </div>
    <div style="padding: 10px; background-color: #f9f9f9; border-radius: 4px;">
      <p><strong>49 CFR 396.3:</strong> Maintenance records must be retained for 1 year where housed/maintained, and for 6 months after the vehicle leaves the carrier's control.</p>
    </div>
  </div>
</div>
